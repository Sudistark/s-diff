import unittest
from splunk.appserver.mrsparkle.controllers import search


class TestSearch(unittest.TestCase):
    def setUp(self):
        self.job = search.JobsController()

    def tearDown(self):
        pass

    def test_get_xsl_file_meta_data_css(self):
        self.assertFalse(self.job.get_xsl_file_meta_data("tmp.css").get("is_valid_extension"), "check css file")

    def test_get_xsl_file_meta_data_xsl(self):
        self.assertTrue(self.job.get_xsl_file_meta_data("tmp.xsl").get("is_valid_extension"), "check xsl file")

    def test_get_xsl_file_meta_data_xslt(self):
        self.assertTrue(self.job.get_xsl_file_meta_data("tmp.xslt").get("is_valid_extension"), "check xslt file")

    def test_get_xsl_file_meta_data(self):
        self.assertFalse(self.job.get_xsl_file_meta_data("tmp").get("is_valid_extension"), "check without extension")


if __name__ == '__main__':
    unittest.main()
